<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="shielding" href="shielding.html" /><link rel="prev" title="pnlt" href="pnlt.html" />

    <meta name="generator" content="sphinx-3.1.1, furo 2020.12.30.beta24"/>
        <title>propagation - pyNA 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script defer="defer" src="_static/jquery.js"></script>
    <script defer="defer" src="_static/underscore.js"></script>
    <script defer="defer" src="_static/doctools.js"></script>
    <script defer="defer" src="_static/language_data.js"></script>
    <script async="async" defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script defer src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">pyNA 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">pyNA 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Theory</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how_to_use.html">how to use pyNA?</a></li>
<li class="toctree-l1"><a class="reference internal" href="methods.html">methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmdao.html">openmdao</a></li>
<li class="toctree-l1"><a class="reference internal" href="partials.html">partials</a></li>
</ul>
<p class="caption"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="help!.html">help!</a></li>
</ul>
<p class="caption"><span class="caption-text">pyNA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="aircraft.html">aircraft</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">data</a></li>
<li class="toctree-l1"><a class="reference internal" href="emissions.html">emissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine.html">engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="trajectory.html">trajectory</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyNA.html">pyna</a></li>
</ul>
<p class="caption"><span class="caption-text">Noise</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="airframe.html">airframe</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">core</a></li>
<li class="toctree-l1"><a class="reference internal" href="epnl.html">epnl</a></li>
<li class="toctree-l1"><a class="reference internal" href="fan.html">fan</a></li>
<li class="toctree-l1"><a class="reference internal" href="geometry.html">geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="ground_reflections.html">ground reflections</a></li>
<li class="toctree-l1"><a class="reference internal" href="ioaspl.html">ioaspl</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipnlt.html">ipnlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="jet.html">jet</a></li>
<li class="toctree-l1"><a class="reference internal" href="lateral_attenuation.html">lateral attenuation</a></li>
<li class="toctree-l1"><a class="reference internal" href="levels_int.html">levels_int</a></li>
<li class="toctree-l1"><a class="reference internal" href="levels.html">levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise_model.html">noise_model</a></li>
<li class="toctree-l1"><a class="reference internal" href="normalization_engine_variables.html">normalization_engine_variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="oaspl.html">oaspl</a></li>
<li class="toctree-l1"><a class="reference internal" href="pnlt.html">pnlt</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">propagation</a></li>
<li class="toctree-l1"><a class="reference internal" href="shielding.html">shielding</a></li>
<li class="toctree-l1"><a class="reference internal" href="source.html">source</a></li>
<li class="toctree-l1"><a class="reference internal" href="spl.html">spl</a></li>
<li class="toctree-l1"><a class="reference internal" href="split_subbands.html">split subbands</a></li>
</ul>
<p class="caption"><span class="caption-text">Trajectory</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="aerodynamics.html">aerodynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="atmosphere.html">atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="clcd.html">clcd</a></li>
<li class="toctree-l1"><a class="reference internal" href="flight_dynamics.html">flight_dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="mux.html">mux</a></li>
<li class="toctree-l1"><a class="reference internal" href="propulsion.html">propulsion</a></li>
<li class="toctree-l1"><a class="reference internal" href="trajectory.html">trajectory</a></li>
<li class="toctree-l1"><a class="reference internal" href="trajectory_ode.html">trajectory_ode</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="propagation">
<h1>propagation<a class="headerlink" href="#propagation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-propagation">
<span id="class-description"></span><h2>class description<a class="headerlink" href="#module-propagation" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="propagation.Propagation">
<em class="property">class </em><code class="sig-prename descclassname">propagation.</code><code class="sig-name descname">Propagation</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/propagation.html#Propagation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#propagation.Propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">openmdao.core.explicitcomponent.ExplicitComponent</span></code></p>
<p>Computes propagation of mean-square acoustic pressure (msap):</p>
<ul class="simple">
<li><p>Distance-law: R2</p></li>
<li><p>Characteristic impedance law</p></li>
<li><p>Atmospheric absorption</p></li>
</ul>
<p>Computes ground reflections and absorption of propagated mean-square acoustic pressure.</p>
<p>The <em>Propagation</em> component requires the following inputs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['x']</span></code>:              aircraft x-position [m]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['z']</span></code>:              aircraft z-position [m]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['r']</span></code>:              distance source to observer [m]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['c_bar']</span></code>:          average ambient speed of sound between observer and source [m/s]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['rho_0']</span></code>:          ambient density [kg/m3]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['I_0']</span></code>:            characteristic impedance [kg/(m2 s)]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['beta']</span></code>:           elevation angle [deg]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs['msap_source']</span></code>:    mean-square acoustic pressure of the source (re. rho_0,^2c_0^2) [-]</p></li>
</ul>
<p>The <em>Propagation</em> component computes the following outputs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">outputs['msap_prop']</span></code>:     mean-square acoustic pressure, propagated to the observer (re. rho_0^2c_0^2) [-]</p></li>
</ul>
<p>The <em>Propagation</em> component has the following options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settings</span></code>:                 pyna settings</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n_t</span></code>:                      number of time steps in the noise time series</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>:                     pyna noise data</p></li>
</ul>
<dl class="py method">
<dt id="propagation.Propagation.compute">
<code class="sig-name descname">compute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputs</span><span class="p">:</span> <span class="n">openmdao.vectors.default_vector.DefaultVector</span></em>, <em class="sig-param"><span class="n">outputs</span><span class="p">:</span> <span class="n">openmdao.vectors.default_vector.DefaultVector</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/propagation.html#Propagation.compute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#propagation.Propagation.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute outputs given inputs. The model is assumed to be in an unscaled state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>Vector</em>) – Unscaled, dimensional input variables read via inputs[key].</p></li>
<li><p><strong>outputs</strong> (<em>Vector</em>) – Unscaled, dimensional output variables read via outputs[key].</p></li>
<li><p><strong>discrete_inputs</strong> (<em>dict</em><em> or </em><em>None</em>) – If not None, dict containing discrete input values.</p></li>
<li><p><strong>discrete_outputs</strong> (<em>dict</em><em> or </em><em>None</em>) – If not None, dict containing discrete output values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="propagation.Propagation.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/propagation.html#Propagation.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#propagation.Propagation.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any one-time initialization run at instantiation.</p>
</dd></dl>
<dl class="py method">
<dt id="propagation.Propagation.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/propagation.html#Propagation.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#propagation.Propagation.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare inputs and outputs.</p>
<dl class="simple">
<dt>Available attributes:</dt><dd><p>name
pathname
comm
options</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Julia version of the <em>Propagation</em> component, <code class="docutils literal notranslate"><span class="pre">propagation.jl</span></code>, is not documented yet. However, it is very similar to the Python version, <code class="docutils literal notranslate"><span class="pre">propagation.py</span></code>. More information and examples on how OpenMDAO.jl components work can be found <a class="reference external" href="https://github.com/byuflowlab/OpenMDAO.jl/tree/master/examples">here</a>.</p>
</div>
</div>
<div class="section" id="theory">
<h2>theory<a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h2>
<p>The propagation of noise through the atmosphere is composed of 4 effects. Firstly, the noise power away from the source reduces with the distance squared, i.e. the <span class="math notranslate nohighlight">\(R^2\)</span>-law, as the noise power is distributed over outward moving spherical surfaces. Secondly, the temperature gradient in the troposphere causes a difference between the characteristic impedance at the source relative to that at the observer. Thirdly, while the sound waves are propagating through the atmosphere, the noise power decreases exponentially, because of atmospheric absorption. Next, surface absorption and reflections need to be taken into account when considering a microphone close to the ground. Finally, the lateral noise attenuation at low elevation angles as well as engine installation effects have to be taken into account. Note that the propagation effects in this section are applied to the mean-square acoustic pressure itself (<span class="math notranslate nohighlight">\(&lt;p^2&gt;\)</span> instead of <span class="math notranslate nohighlight">\(&lt;p^2&gt;^*\)</span>).</p>
<div class="section" id="spherical-spreading-and-characteristic-impedance-effect">
<h3>Spherical spreading and characteristic impedance effect<a class="headerlink" href="#spherical-spreading-and-characteristic-impedance-effect" title="Permalink to this headline">¶</a></h3>
<p>Given the mean-square pressure level at the source, <span class="math notranslate nohighlight">\(&lt;p^2_{\textrm{source}}&gt;^*\)</span>, the directly-propagated mean-square pressure level at the observer, <span class="math notranslate nohighlight">\(&lt;p^2_{\textrm{direct-prop}}&gt;^*\)</span>, is calculated using:</p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[\begin{split}&lt;p^2_{\textrm{direct-prop}}&gt; = \underbrace{\left[\frac{r_{\textrm{s}}^2}{r^2}\right]}_{\substack{\text{$R^2$} \\ \text{law}}} \cdot \underbrace{\left[\frac{(I_0)_{\textrm{obs}}}{(I_0)_{\textrm{source}}} \right]}_{\substack{\text{characteristic acoustic} \\ \text{impedance effect}}} &lt;p^2_{\textrm{source}}&gt;\end{split}\]</div></div>
</div>
<div class="section" id="atmospheric-absorption-effects">
<h3>Atmospheric absorption effects<a class="headerlink" href="#atmospheric-absorption-effects" title="Permalink to this headline">¶</a></h3>
<p>The atmospheric absorption effects are applied to the mean-square acoustic pressure of each sub-band <span class="math notranslate nohighlight">\(j\)</span> using:</p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[&lt;p^2_{\textrm{absorb}}*_j \ = \ \underbrace{\exp{\left[-2\alpha(r-r_{\textrm{source}})\right]}}_{\textrm{atmospheric absorption}} &lt;p^2_{\textrm{direct-prop}}&gt;_j\]</div></div>
<p>A look-up table of the atmospheric absorption coefficient, <span class="math notranslate nohighlight">\(\alpha\)</span>, in the US Standard Atmosphere is implemented as a function of altitude, <span class="math notranslate nohighlight">\(z\)</span>, and sub-band frequency, <span class="math notranslate nohighlight">\(f_{sb}\)</span>.</p>
</div>
<div class="section" id="combination-of-sub-bands">
<h3>Combination of sub-bands<a class="headerlink" href="#combination-of-sub-bands" title="Permalink to this headline">¶</a></h3>
<p>After applying the atmospheric absorption and ground effects, the <span class="math notranslate nohighlight">\(N_b\)</span> sub-bands are combined again to the original frequency band <span class="math notranslate nohighlight">\(i\)</span> and the resulting mean-square acoustic pressure is converted back to decibels using:</p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[&lt;p^2_{\textrm{propagated}}&gt;^*_i = 10\log_{10}\left[\sum_{h = 1}^{N_b} &lt;p^2_{\textrm{propagated}}&gt;_h \right]\]</div></div>
</div>
<div class="section" id="shielding-module">
<h3>Shielding module<a class="headerlink" href="#shielding-module" title="Permalink to this headline">¶</a></h3>
<p>The Maekawa method is used to assess the wing shielding effect on the engine noise. This is not implemented yet in pyNA.</p>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="shielding.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">shielding</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="pnlt.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">pnlt</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Laurens Voet
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/propagation.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">propagation</a><ul>
<li><a class="reference internal" href="#module-propagation">class description</a></li>
<li><a class="reference internal" href="#theory">theory</a><ul>
<li><a class="reference internal" href="#spherical-spreading-and-characteristic-impedance-effect">Spherical spreading and characteristic impedance effect</a></li>
<li><a class="reference internal" href="#atmospheric-absorption-effects">Atmospheric absorption effects</a></li>
<li><a class="reference internal" href="#combination-of-sub-bands">Combination of sub-bands</a></li>
<li><a class="reference internal" href="#shielding-module">Shielding module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>